#!/usr/bin/env bash

ROOT=$PWD
echo "ROOT: $ROOT"
BIN_DIR=$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" &>/dev/null && pwd)
echo "BIN_DIR: $BIN_DIR"
BIN_FILE=$(realpath "$BIN_DIR/build")
echo "BIN_FILE: $BIN_FILE"
PACKAGE_DIR=$(realpath "$BIN_FILE/../..")
echo "PACKAGE_DIR: $PACKAGE_DIR"
cd "$PACKAGE_DIR" || exit
yarn clean && tsc && yarn copy-files
cd "$ROOT" || exit
args=("$@")
node "$PACKAGE_DIR/dist/src/nestdoc.js" "$args"
# cd "$ROOT" || exit

# args=("$@")

# SCRIPT_FILE="$PACKAGE_DIR/dist/src/nestdoc.js"

# node "$SCRIPT_FILE" "$args"
